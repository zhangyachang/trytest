<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <script>





    // 前端信息存在于localStorage中，防止一般人去篡改，加密
    function encryption(code) {
      var c = String.fromCharCode(code.charCodeAt(0) + code.length);
      for (var i = 1; i < code.length; i++) {
        c += String.fromCharCode(code.charCodeAt(i) + code.charCodeAt(i - 1));
      }
      return escape(c);
    }
    // 解密
    function decrypt(code) {
      code = unescape(code);
      var c = String.fromCharCode(code.charCodeAt(0) - code.length);
      for (var i = 1; i < code.length; i++) {
        c += String.fromCharCode(code.charCodeAt(i) - c.charCodeAt(i - 1));
      }
      return c;
    }

    // 
    var json = {
      name: 'aaa',
      age: 12
    };
    let a = encryption(JSON.stringify(json));
    let b = encryption(a);

    console.log(a === b);

    console.log(a);
    console.log(b);

    console.log(decrypt(b));
    console.log(JSON.parse(decrypt(decrypt(b))));



    console.log(JSON.stringify(123123123123));


    let token = `eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJjaWQiOiI1ZGFkNDM3MGQyMjA4ZjRmMTQ1MzU4NjAiLCJ1c2VyIjoi77-9XHUwMDEzIzNDUyIsImV4cGlyZXNJbiI6NjAwMDAwLCJpYXQiOjE1NzE5ODI4MDV9.w3jiR7nInG1QXTVo_Ps8ARrAOYdX8F0gLmmEKIXWq4xYolbVay5qGaAtXSfPfKFsIQsGxRjbStiiv6OUvRwi-0UShbXkc8_isVyarzaP-CKbCAQGaShMFQPmoTvFJgwT6zMfgmljBznMKfvNNs3Fky974i27lyolqUm_4w1c-HlQeLCpWoYX_WPQR9K1AeRlRCXVGCKM5-yyhPOmCAmYibSCc0D9yw8Glhf76uoKwJ2fx5QgNVXkalSVJ1IZkv4R0_Fgniwhg-8c-28vZH71Z_UdYPUj6HqWik-n9tpnm6f4dhX7AkZ5LMsUQ4Wk28CcFg66g2tF9FsbIsb3_2FsoQ`;
    let token1 = JSON.stringify(token);

    console.log('加密', encryption(token1))

    let token2 = `%u021C%87%DE%C3%B2%CA%A9%AA%CC%B8%B8%B3%9D%A8%CF%C3z%7F%B7%B2%BC%BC%B7%C0%87%98%A6%8C%7F%7F%B4%DB%C8%AE%99%8D%83g%93%DE%C3%B4%CB%B8%A8%BA%B8%B8%B2z%8B%A1%8D%B1%B9%92%91%80%80%94%98%CA%C6%B7%ABu%8E%C4%BC%BF%BA%A1%A5%82%7E%C7%CF%89%82%B8%AB%AA%B5%8F%8D%7B%94%95%88%CF%C2%B3%D9%D8%A0ndf%91%A0%9D%CC%C4%91%89%BF%C3%C3%C8%92%99%CE%C2%BC%BC%B6%C3%8A%97%AA%B3%E5%D3%B2%A6%98%AC%CB%B2%7F%84%B8%AB%B8%C4%91%85%B8%C3%8F%8D%BA%C9%B1%A9%BA%B8%B9%AFv%7F%C8%BFz%84%93%8D%7D%81%91%9A%8Fg%A5%AA%9D%D3%BB%89%A5%B7%B7%B5x%82%A9%AC%AA%C5%CE%AF%C3%ABy%93%C4%B3%90%A8%BD%BC%90%7Ev%97%B3%B9%DA%B2%90%94%A1%AF%C8%A5%AC%D1%C8%DB%CE%B8%B7%DA%AE%A6%B8%A8%A2%B5%CC%AB%B9%B6%B6%B1%91%B9%BC%9A%C4%BA%BF%CA%BC%CC%B5%C7%DD%D2%DF%AC%85%A4%CB%C8%C9%E0%96%5D%85%A8%BB%CA%BA%C3%CE%9B%97%C8%DC%C9%CF%DA%D3%EC%DB%B1%7Dp%8E%AD%A5%84%92%98%A8%B4%BB%B5%93%97%A1%BD%DC%C3%CA%BC%90%B1%DE%CB%8A%B0%C7%B3%CD%D4%D9%D6%AC%BC%E8%BB%98%B1%DC%C4%9C%C1%A6y%B1%E4%B2pk%9D%9Bi%A3%E5%E8%DB%DD%C6%C2%CC%93%AB%A8%94%90u%B4%BD%B6%B1%8F%B3%C7%C6%C8%B1%B7%B6%A7%A1%A3%8B%84%7Cr%A6%B7%BE%BE%95%9B%AE%9D%8A%8E%98%82b%A6%F2%E1%B8%9F%BC%B0%84%AE%C6%C2%CB%B5%96%A6%93t%7D%B2%F0%AF%7F%B3%D4%CE%9Dm%AB%E4%BA%C2%C1%7C%98%DE%AD%86%B8%B5%A4%AE%C3%CC%CD%BF%A9%A0%7Bz%A3%C5%E1%AA%86%82%8F%A5%AD%D5%D7%E0%DF%CF%94e%9B%90_j%AE%D0%A2%7Fh%8B%B9%B4%B9%BD%A9%A5%BF%A0%7E%B9%C8%C0%D4%98%9B%A7%AD%E4%DE%DB%A3%9C%9A%98%CC%C0%8Fx%AC%C5%8F%81%99%C0%C8%A6%85%8B%C2%9Dj%7B%A6%A9%AD%9Dl%9D%99%A6%BA%7F%7F%B9%D5%AB%BC%D5%95%92%91x%B9%E2%C0s`;

    console.log('解密', JSON.parse(decrypt(encryption(token1))));

    console.log('解密', JSON.parse(decrypt(token2)));



    let test = `eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJjaWQiOiI1ZGI5NjQwNmZiMTM2ODY3OTQ1ZTgzYTEiLCJ1c2VyIjoi77-9XHUwMDEzIzNDUyIsImV4cGlyZXNJbiI6NjAwMDAwLCJpYXQiOjE1NzI5MjczMzF9.VaNLAeUqnVPqdhOWBnx7v1lX4n1xePt8KdRJAYQyWmqzXw9oN9RWldJmSDWBbTZo7SJz7cVpOl9yaOYq45ernyk3aMJ_k75UjVkBU4y6I93RSsy-PIinGm9ph1jGBGjW5sbBkobVep01gq61iEaxNxMIkIUp2NMlIn0nRFBuLuHUYLt1C04r0evY6Jc96SsM7gSwolYNQsveJmc8WaMrFb03empk-8ohqixteHBe5_35xDNNulArlIzfZQIoJ_2MJwqe3Lw0EEXzN1w27SXfRJnxe2WR14By4wr_vC85vsD9kJR-p_lYUsqQtWZIPD-iSJAySm2lSEUTwcupFwjdQw`;

    console.log('加密', encryption(JSON.stringify(test)));

  





  </script>
</body>

</html>