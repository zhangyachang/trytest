<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>


  <script>

    // 查找插入位置时使用二分查找的方式

function binaryInsertionSort(arr) {
  if (Object.prototype.toString.call(arr).slice(8, -1) === 'Array') {
    console.time('二分插入排序耗时');
    var length = arr.length;
    for (var i = 1; i < length; i++) {

      var left = 0;
      var key = arr[i];
      var right = i - 1;

      while (left <= right) {
        var middle = parseInt((left + right) / 2);
        if (key < arr[middle]) {
          right = middle - 1;
        } else {
          left = middle + 1;
        }
      }

      for (var j = i - 1; j >= left; j--) {
        arr[j + 1] = arr[j]
      }
      arr[left] = key;
    }
    console.timeEnd('二分插入排序耗时');
    return arr;
  } else {
    throw new Error('arr is not arr');
  }
}

    // function binaryInsertionSort(array) {
    //   if (Object.prototype.toString.call(array).slice(8, -1) === 'Array') {
    //     console.time('二分插入排序耗时：');

    //     for (var i = 1; i < array.length; i++) {
    //       var key = array[i], left = 0, right = i - 1;
    //       while (left <= right) {
    //         var middle = parseInt((left + right) / 2);
    //         if (key < array[middle]) {
    //           right = middle - 1;
    //         } else {
    //           left = middle + 1;
    //         }
    //       }
    //       for (var j = i - 1; j >= left; j--) {
    //         array[j + 1] = array[j];
    //       }
    //       array[left] = key;
    //     }
    //     console.timeEnd('二分插入排序耗时：');

    //     return array;
    //   } else {
    //     return 'array is not an Array!';
    //   }
    // }



    var arr = [3, 44, 38, 5, 47, 15, 36, 26, 27, 2, 46, 4, 19, 50, 48];
    console.log(binaryInsertionSort(arr));//[2, 3, 4, 5, 15, 19, 26, 27, 36, 38, 44, 46, 47, 48, 50]

  </script>
</body>

</html>