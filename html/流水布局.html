<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
    *{
      margin: 0;
      padding: 0;
    }
    #wrap {
      width: 500px;
      margin: auto;
    }

    #wrap img {
      width: 250px;
    }
    #wrap #left{
      width: 250px;
      float: left;
    }
    #wrap #right{
      float: right;
      width: 250px;
    }
  </style>
</head>

<body>

  <div id="wrap">
    <div id="left">

    </div>
    <div id="right"></div>
  </div>

  <script>

    // let img = ['1.png', '2.png', '3.png', '4.png', '5.png', '6.png', '7.png', '8.png'];
    let img = ['1.jpg', '2.jpg', '3.jpg', '4.jpg', '5.jpg', '6.jpg', '7.jpg', '8.jpg', '9.jpg', '10.jpg', '11.jpg', '12.jpg'];

    var oDom = document.getElementById('wrap');
    var oLeft = document.getElementById('left');
    var oRight = document.getElementById('right');

    var key = {
      left: {
        height: 0,
        arr: []
      },
      right: {
        height: 0,
        arr: []
      }
    }


    for (var i = 0; i < img.length; i++) {
      var oImg = document.createElement('img');
      oImg.src = 'img/' + img[i];

      oImg.onload = function () {
        console.log('可以进来吗');
        console.log(this.offsetHeight);
        if(key.left.height >= key.right.height){
          key.right.height += this.offsetHeight;
          key.right.arr.push(this);
          oRight.appendChild(this);
        }else{
          key.left.height += this.offsetHeight;
          key.left.arr.push(this);
          oLeft.appendChild(this);
        }
      }
      oDom.appendChild(oImg);
      // oDom.removeChild(oImg);
    }

    // 加载完成之后在渲染

    console.log('加载完成', key);




  </script>
</body>

</html>