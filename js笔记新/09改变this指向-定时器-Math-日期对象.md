## 改变this指向

这几个都是函数的方法，使用方式

```js
函数名.方法
```



#### 1. 函数.call( )

> call 接收的参数个数不限制，看需求，但是第一个必须是 this 需要指向的对象，函数执行需要的参数写在后面就好。





#### 2. 函数.apply( )

接收的参数只有两个，第一个：需要改变this指向的对象；**第二个必须是一个数组**，数组里函数需要的参数。



**注意：**

1. 都可以用来改变函数执行时的this指向, **会主动执行函数. **
2. 传null时，会把指向指向window
3. call apply  bind   传null是  this 指向window
4. 需要指向window时，可以传null/window，  如果不传实参，那么可以不写，也是默认指向window
5. 改变this指向时，只对本次执行生效。





#### 3. 函数.bind( )

bind的返回值是一个函数，所以还是需要加上括号执行。





#### 分析

1. call 、bind 、 apply 这三个函数的第一个参数都是 this 的指向对象
2. 第二个参数差别就来了：

3. call的参数是直接放进去的，第二第三第n个参数全都用逗号分隔，直接放到后面  obj.myFun.call(db,'成都', ... ,'string' )；
4. apply的所有参数都必须放在一个数组里面传进去  obj.myFun.apply(db,['成都', ..., 'string' ]);
5. bind除了返回是函数以外，它 的参数和call 一样。
6. 当然，三者的参数不限定是string类型，允许是各种类型，包括函数 、 object 等等





#### 实用价值

1. 类数组转化为数组

```js
[].slice.apply(arguments);
```



2. 判断浏览器是否是ie 678

```js
if(!-[1,]){
    alert('这是ie678')
}

!-[1,] NaN(false) true // 在ie 678 环境下

!-[1,] -1 false 在其他环境下
```





## 定时器

window方法

#### 1. setInterval

> setInterval 方法可按照指定的周期（以毫秒计）来调用函数或计算表达式。
>
> setInterval( ) 方法会不停的调用函数，直到 `clearval()` 被调用或窗口关闭。由 setInterval 返回的ID值可用作 clearInterval() 方法的参数。
>
> 提示 1000毫秒 = 1秒



**语法**

```js
setInterval(code, millisec, lang);
```

| 参数     | 描述                                                   |
| -------- | ------------------------------------------------------ |
| code     | 必需。要调用的函数或要执行的代码串。                   |
| millisec | 必须。周期性执行或调用 code 之间的时间间隔，以毫秒计。 |
| lang     | 可选。JScript \| VBScript \| Javascript                |





#### 2. setTimeout

> setTimeout( ) 方语法法用于在指定的毫秒数后调用函数或计算表达式。

**语法**

```js
setTimeout(code, millisec);
```

| 参数     | 描述                                             |
| -------- | ------------------------------------------------ |
| code     | 必需。要调用的函数后要执行的 JavaScript 代码串。 |
| millisec | 必需。在执行代码前需等待的毫秒数。               |

**注意：** setTimeout( )只执行 code 一次。如果要多次调用，请使用 setInterval 或者让 code 自身再次调用 setTimeout。



#### 3. 定时器的返回值

定时器的返回值：是一些 number 类型的数字，代表定时器的序号。



#### 4. 定时器的清除

clearInterval() 

​	参数必须是由 setInterval() 返回的 ID 值。

clearTimeout()

​	由 setTimeout() 返回的 ID 值。





#### 注意：

1. alert( ) 必须点了确定才算是执行完成，只有函数执行完成才会重新计时。
2. eval( ) 把字符串当做 JavaScript 脚本代码来执行。
3. 浏览器有刷新频率 13 - 20。
4. 定时器里的事件，属于下一次事件队列，所以哪怕定时时间间隔为0，也有可能是后面的先执行。







## Math对象

> Math对象用于执行数学任务。
>
> Math对象并不像 Date 和 String 那样是对象的类，因此没有构造函数 Math()，像Math.sin( ) 这样的函数只是函数，不是某个对象的方法。您无需创建它，通过把 Math 作为对象使用就可以调用其所有属性和方法。





#### 1. Math 对象属性

| 属性    | 描述                                              |
| :------ | :------------------------------------------------ |
| E       | 返回算术常量 e，即自然对数的底数（约等于2.718）。 |
| LN2     | 返回 2 的自然对数（约等于0.693）。                |
| LN10    | 返回 10 的自然对数（约等于2.302）。               |
| LOG2E   | 返回以 2 为底的 e 的对数（约等于 1.414）。        |
| LOG10E  | 返回以 10 为底的 e 的对数（约等于0.434）。        |
| PI      | 返回圆周率（约等于3.14159）。                     |
| SQRT1_2 | 返回返回 2 的平方根的倒数（约等于 0.707）。       |
| SQRT2   | 返回 2 的平方根（约等于 1.414）。                 |





#### 2. Math 对象方法

| 方法       | 描述                                                         |
| :--------- | :----------------------------------------------------------- |
| abs(x)     | 返回数的绝对值。                                             |
| acos(x)    | 返回数的反余弦值。                                           |
| asin(x)    | 返回数的反正弦值。                                           |
| atan(x)    | 以介于 -PI/2 与 PI/2 弧度之间的数值来返回 x 的反正切值。     |
| atan2(y,x) | 返回从 x 轴到点 (x,y) 的角度（介于 -PI/2 与 PI/2 弧度之间）。 |
| ceil(x)    | 对数进行上舍入。                                             |
| cos(x)     | 返回数的余弦。                                               |
| exp(x)     | 返回 e 的指数。                                              |
| floor(x)   | 对数进行下舍入。                                             |
| log(x)     | 返回数的自然对数（底为e）。                                  |
| max(x,y)   | 返回 x 和 y 中的最高值。                                     |
| min(x,y)   | 返回 x 和 y 中的最低值。                                     |
| pow(x,y)   | 返回 x 的 y 次幂。                                           |
| random()   | 返回 0 ~ 1 之间的随机数。                                    |
| round(x)   | 把数四舍五入为最接近的整数。                                 |
| sin(x)     | 返回数的正弦。                                               |
| sqrt(x)    | 返回数的平方根。                                             |
| tan(x)     | 返回角的正切。                                               |
| toSource() | 返回该对象的源代码。                                         |
| valueOf()  | 返回 Math 对象的原始值。                                     |





**常用的方法**

```js
Math.ceil(); //向上取整
Math.floor(); //向下取整
Math.round(); //四舍五入取整
Math.random(); //随机数 [0,1)
Math.max(); //取最大值
Math.min();  //取最小值

Math.abs();  //绝对值
Math.sqrt(x); //x的平方根
Math(x,y);   //x的y次幂
```

```js
// 随机返回2或3
setInterval(function(){
  	console.log(Math.floor(Math.random()*2 + 2));
},1000)
```







## 日期对象

> 日期对象用于处理日期和时间
>
> 





